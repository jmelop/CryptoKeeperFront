<app-navbar></app-navbar>

<!-- Add new crypto-->
<div class="flex flex-col h-screen">
    <div class="items-start justify-center m-auto max-w-4xl p-9 flex-grow">
        <div class="grid mt-8 gap-8 grid-cols-1 ">
        <!-- Stadistics section -->
        <div class="flex flex-col flex-1 w-full">
            <div class="grid grid-cols-12 gap-6 mt-5">
                <div class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6
                xl:col-span-3 intro-y bg-white" href="#">
                    <div class="p-5">
                        <div class="flex justify-between">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-blue-400" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <div
                                class="bg-green-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                <span class="flex items-center">100%</span>
                            </div>
                        </div>
                        <div class="ml-2 w-full flex-1">
                            <div>
                                <div class="mt-3 text-3xl font-bold leading-8">{{numberCryptos}}</div>
                                <div class="mt-1 text-base text-gray-600">Number of cryptos</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
                    href="#">
                    <div class="p-5">
                        <div class="flex justify-between">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-yellow-400" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599
                                    1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <div
                                class="bg-red-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                <span class="flex items-center">-25%</span>
                            </div>
                        </div>
                        <div class="ml-2 w-full flex-1">
                            <div>
                                <div class="mt-3 text-3xl font-bold leading-8">${{moneySpend}}</div>

                                <div class="mt-1 text-base text-gray-600">Money spent</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6
                xl:col-span-3 intro-y bg-white" href="#">
                    <div class="p-5">
                        <div class="flex justify-between">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-pink-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <div
                                class="bg-yellow-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                <span class="flex items-center">30%</span>
                            </div>
                        </div>
                        <div class="ml-2 w-full flex-1">
                            <div>
                                <div class="mt-3 text-3xl font-bold leading-8">${{moneyReturned}}</div>
                                <div class="mt-1 text-base text-gray-600">Money returned</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
                    href="#">
                    <div class="p-5">
                        <div class="flex justify-between">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-green-400" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <div
                                class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                <span class="flex items-center">12%</span>
                            </div>
                        </div>
                        <div class="ml-2 w-full flex-1">
                            <div>
                                <div class="mt-3 text-3xl font-bold leading-8">{{cryptos.length}}</div>
                                <div class="mt-1 text-base text-gray-600">Number of operations</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Crypto List -->
        <div class="flex flex-col mt-10">
            <div class="overflow-x-auto w-[41rem]">
                <div class="py-4 inline-block min-w-full">
                    <div class="overflow-hidden border-solid border rounded-md ">
                        <table class="min-w-full text-center">
                            <thead class="bg-gray-800">
                                <tr>
                                    <th scope="col" class="text-white text-sm font-medium px-6 py-4">
                                        Crypto</th>
                                    <th scope="col" class="text-white text-sm font-medium px-6 py-4">
                                        Amount</th>
                                    <th scope="col" class="text-white text-sm font-medium px-6 py-4">
                                        Operation</th>
                                    <th scope="col" class="text-white text-sm font-medium px-6 py-4">
                                        Money spent</th>
                                    <th scope="col" class="text-white text-sm font-medium px-6 py-4">
                                        Date</th>
                                    <th scope="col" class="relative px-6 py-3">
                                        <span class="sr-only">Edit</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white">
                                <tr class="bg-white border-b"
                                    *ngFor="let crypto of cryptos | paginate: { itemsPerPage: 5, currentPage: page }">
                                    <td class="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900">
                                        {{crypto.crypto}}
                                        <input type="text" *ngIf="false" [(ngModel)]="crypto.crypto" />
                                    </td>
                                    <td class="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900">
                                        <p *ngIf="!crypto.editable">{{crypto.amount}}</p>
                                        <input class="border border-grey-lighter rounded-lg p-2" type="number" min="0"
                                            oninput="this.value = Math.abs(this.value)" *ngIf="crypto.editable"
                                            [(ngModel)]="crypto.amount" />
                                    </td>
                                    <td class="py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            {{crypto.operation}}
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900">
                                        <p *ngIf="!crypto.editable">${{crypto.price}}</p>
                                        <input class="border border-grey-lighter rounded-lg p-2" type="number" min="0"
                                            oninput="this.value = Math.abs(this.value)" *ngIf="crypto.editable"
                                            [(ngModel)]="crypto.price" />
                                    </td>
                                    <td class="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900">
                                        <p *ngIf="!crypto.editable">{{crypto.date | date: 'dd/MM/yyyy'}}</p>
                                        <input class="border border-grey-lighter rounded-lg p-2" type="date"
                                            *ngIf="crypto.editable" [(ngModel)]="crypto.date" />
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <a *ngIf="!crypto.editable" (click)="editState(crypto)"
                                            class="text-indigo-600 hover:text-indigo-900 cursor-pointer"> Edit</a>
                                        <a *ngIf="!crypto.editable"> | </a>
                                        <a *ngIf="!crypto.editable" (click)="deleteCrypto(crypto)"
                                            class="text-indigo-600 hover:text-indigo-900 cursor-pointer">Delete </a>
                                        <a *ngIf="crypto.editable" (click)="updateCrypto(crypto)"
                                            class="text-indigo-600 hover:text-indigo-900 cursor-pointer">OK</a>
                                        <a *ngIf="crypto.editable"> | </a>
                                        <a *ngIf="crypto.editable" (click)="crypto.editable = false"
                                            class="text-indigo-600 hover:text-indigo-900 cursor-pointer">Cancel</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p *ngIf="cryptos.length == 0" class="text-center my-4">NO DATA</p>
                    </div>
                </div>
            </div>
            <div *ngIf="cryptos.length > 0" id="pagination" class="mt-8 mx-8 flex justify-center">
                <pagination-controls (pageChange)="handlePageChange($event)"></pagination-controls>
            </div>
        </div>
    </div>
</div>
